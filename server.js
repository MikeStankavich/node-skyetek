var HID = require('node-hid');
var SKYETEK_VID = 45039;
var SKYETEK_NOVA_PID = 3841;
//console.log('devices:', HID.devices());

// open Skyetek reader HID device
var reader = new HID.HID(SKYETEK_VID,SKYETEK_NOVA_PID);

reader.on("data", function(data) {
    console.log('Received from Nova:', data);
});

reader.on("error", function(err) {
    console.log('Error from Nova:', err);
});

reader.resume();

// reader.write([0x00, 0x01, 0x01, 0x05, 0xff, 0xff]);

reader.write([0x02, 0x00, 0x01]);
reader.write([0x11, 0x02, 0x00, 0x0e, 0x00, 0xa0, 0x12, 0x01, 0xff, 0xff, 0xff, 0xff, 0x00, 0x01, 0x00, 0x04, 0xef, 0xf2]);
reader.write([0x11, 0x02, 0x00, 0x0e, 0x00, 0xa0, 0x12, 0x01, 0xff, 0xff, 0xff, 0xff, 0x00, 0x03, 0x00, 0x02, 0x3f, 0x7c]);
reader.write([0x11, 0x02, 0x00, 0x0e, 0x00, 0xa0, 0x12, 0x01, 0xff, 0xff, 0xff, 0xff, 0x00, 0x05, 0x00, 0x20, 0xeb, 0xb5]);
reader.write([0x11, 0x02, 0x00, 0x0e, 0x00, 0xa0, 0x12, 0x01, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x04, 0xb5, 0x2e]);
reader.write([0x11, 0x02, 0x00, 0x0e, 0x00, 0xa0, 0x12, 0x01, 0xff, 0xff, 0xff, 0xff, 0x00, 0x04, 0x00, 0x04, 0xd6, 0x4f]);
reader.write([0x0b, 0x02, 0x00, 0x08, 0x00, 0x21, 0x01, 0x01, 0x00, 0x00, 0xf3, 0x5e]);

console.log(reader);

// var cmdReadGpioPort = [0x02, 0x00, 0x0A, 0x00, 0x20, 0x12, 0x01, 0x00, 0x09, 0x00, 0x01, 0x4B, 0x86];

// 02 0008 0021 0101 0000 F35E
// var selectTag = [0x02, 0x00, 0x08, 0x00, 0x21, 0x01, 0x01, 0x00, 0x00, 0xF3, 0x5E];
// var selectTag = [0x02, 0x0008002001010000, 0xF81A];
// reader.write(selectTag);


// console.log(reader);


// http://www.mullist.com/2015/01/09/getting-node-hid-to-work-on-windows/
